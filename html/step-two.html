  <h1 id="tablist-1">Efficiency revisited.</h1>

  <div role="tablist" aria-labelledby="tablist-1" class="cs-tabs">
  <input
    autofocus
    class="radiotab"
    name="tabs"
    type="radio"
    id="tabone"
    checked="checked"
  />
  <label class="label" for="tabone" role="tab" aria-selected="true" aria-controls="tabpanel-1">Efficient idea #1</label>
  <div id="tabpanel-1" role="tabpanel" aria-labelledby="tab-1" class="panel">
    <h2>Produce value for shareholders</h2>
    <p>Guaranteed to make the line go up</p>
  </div>
  <input
    class="radiotab"
    name="tabs"
    type="radio"
    id="tabtwo"
  />
  <label class="label" for="tabtwo" role="tab" aria-selected="false" aria-controls="tabpanel-2">Efficient idea #2</label>
  <div id="tabpanel-2" role="tabpanel" aria-labelledby="tabtwo" class="panel">
    <h2>Maximize returns in the quarter</h2>
    <p>Of utmost importance...</p>
  </div>
  <input
    class="radiotab"
    name="tabs"
    type="radio"
    id="tabthree"
  />
  <label class="label" for="tabthree" role="tab" aria-selected="false" aria-controls="tabpanel-3">Efficient idea #3</label>
  <div id="tabpanel-3" role="tabpanel" aria-labelledby="tabthree" class="panel">
    <h2>Synergize with cross functional teams</h2>
    <p>We can go far together...</p>
  </div>
</div>
<button class="cs-btn" hx-get="/html/step-three.html" 
       hx-swap="innerHTML"
       hx-target="main">Take me to the next level</button>

<script>
    'use strict';

class TabsManual {
  constructor(groupNode) {
    this.tablistNode = groupNode;

    this.tabs = [];

    this.firstTab = null;
    this.lastTab = null;

    this.tabs = Array.from(this.tablistNode.querySelectorAll('[role=tab]'));
    this.tabpanels = [];

    for (var i = 0; i < this.tabs.length; i += 1) {
      var tab = this.tabs[i];
      var tabpanel = document.getElementById(tab.getAttribute('aria-controls'));

      tab.tabIndex = -1;
      tab.setAttribute('aria-selected', 'false');
      this.tabpanels.push(tabpanel);

      tab.addEventListener('keydown', this.onKeydown.bind(this));
      tab.addEventListener('click', this.onClick.bind(this));

      if (!this.firstTab) {
        this.firstTab = tab;
      }
      this.lastTab = tab;
    }

    this.setSelectedTab(this.firstTab);
  }

  setSelectedTab(currentTab) {
    for (var i = 0; i < this.tabs.length; i += 1) {
      var tab = this.tabs[i];
      if (currentTab === tab) {
        tab.setAttribute('aria-selected', 'true');
        tab.removeAttribute('tabindex');
        this.tabpanels[i].classList.remove('is-hidden');
      } else {
        tab.setAttribute('aria-selected', 'false');
        tab.tabIndex = -1;
        this.tabpanels[i].classList.add('is-hidden');
      }
    }
  }

  moveFocusToTab(currentTab) {
    currentTab.focus();
  }

  moveFocusToPreviousTab(currentTab) {
    var index;

    if (currentTab === this.firstTab) {
      this.moveFocusToTab(this.lastTab);
    } else {
      index = this.tabs.indexOf(currentTab);
      this.moveFocusToTab(this.tabs[index - 1]);
    }
  }

  moveFocusToNextTab(currentTab) {
    var index;

    if (currentTab === this.lastTab) {
      this.moveFocusToTab(this.firstTab);
    } else {
      index = this.tabs.indexOf(currentTab);
      this.moveFocusToTab(this.tabs[index + 1]);
    }
  }

  /* EVENT HANDLERS */

  onKeydown(event) {
    var tgt = event.currentTarget,
      flag = false;

    switch (event.key) {
      case 'ArrowLeft':
        this.moveFocusToPreviousTab(tgt);
        flag = true;
        break;

      case 'ArrowRight':
        this.moveFocusToNextTab(tgt);
        flag = true;
        break;

      case 'Home':
        this.moveFocusToTab(this.firstTab);
        flag = true;
        break;

      case 'End':
        this.moveFocusToTab(this.lastTab);
        flag = true;
        break;

      default:
        break;
    }

    if (flag) {
      event.stopPropagation();
      event.preventDefault();
    }
  }

  // Since this example uses buttons for the tabs, the click onr also is activated
  // with the space and enter keys
  onClick(event) {
    this.setSelectedTab(event.currentTarget);
  }
}

// Initialize tablist

window.addEventListener('load', function () {
  var tablists = document.querySelectorAll('[role=tablist].manual');
  for (var i = 0; i < tablists.length; i++) {
    new TabsManual(tablists[i]);
  }
});

</script>       

<style>
.label:focus {
    background: red !important;
}

[role="tablist"] {
  min-width: 100%;
}

[role="tab"] span.focus {
  display: inline-block;
  margin: 2px;
  padding: 4px 6px;
}

[role="tabpanel"].is-hidden {
  display: none;
}

[role="tabpanel"] p {
  margin: 0;
}
</style>